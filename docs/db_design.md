# DB 設計書（ミニマム版）
OsiCal - 推し活スケジュール管理アプリ

---

## 1. テーブル一覧

- oshis（推し名）
- tags（イベントカテゴリー）
- events（イベント）
- event_tags（イベントとタグの中間テーブル）

---

## 2. テーブル定義

### 2-1. oshis（推し名管理）

| カラム名    | 型           | NotNull | 説明       |
|-------------|--------------|---------|------------|
| id          | INT PK AI    | YES     | 推しID     |
| oshi_name   | VARCHAR(255) | YES     | 推しの名称 |
| created_at  | DATETIME     | YES     | 登録日時   |

---

### 2-2. tags（カテゴリー管理）

| カラム名    | 型           | NotNull | 説明         |
|-------------|--------------|---------|--------------|
| id          | INT PK AI    | YES     | タグID       |
| tag_name    | VARCHAR(255) | YES     | カテゴリー名 |
| created_at  | DATETIME     | YES     | 作成日時     |

---

### 2-3. events（イベント本体）

イベントのコア情報（名前・日付・メモ）だけを保持し、  
詳細情報（会場・開始時刻・応募期間など）はすべてメモ欄へ記述する方針とする。

| カラム名    | 型           | NotNull | 説明                                |
|-------------|--------------|---------|--------------------------------------|
| id          | INT PK AI    | YES     | イベントID                          |
| oshi_id     | INT (FK)     | YES     | 推しID（oshis.id）                  |
| title       | VARCHAR(255) | YES     | イベント名                          |
| event_date  | DATE         | YES     | イベント日付（年月日）              |
| memo        | TEXT         | NO      | 詳細情報（開始時刻・会場など）     |
| created_at  | DATETIME     | YES     | 作成日時                             |

---

### 2-4. event_tags（中間テーブル）

イベントは複数のカテゴリーを持てるため、多対多構造を採用する。

| カラム名 | 型        | NotNull | 説明                   |
|----------|-----------|---------|------------------------|
| event_id | INT (FK)  | YES     | イベントID（events）   |
| tag_id   | INT (FK)  | YES     | タグID（tags）         |

PRIMARY KEY(event_id, tag_id)

---

## 3. 備考

- イベント日時は DATE（年/月/日）で管理する  
- 開始時間・開場時間・会場などはメモ欄に書く  
- カテゴリー選択時に、メモ欄へテンプレートを挿入する方式で支援する  
- DB構造は極力シンプルにし、分類・タグ付け・検索に強い構成とする  

---
